# Risk Profile: Story 2.2

Date: 2026-01-14
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 3
- Critical Risks: 0
- High Risks: 0
- Medium Risks: 0
- Low Risks: 3

## Risk Matrix

| Risk ID  | Description                                      | Probability | Impact     | Score | Priority |
| -------- | ------------------------------------------------ | ----------- | ---------- | ----- | -------- |
| SEC-001  | Token brute force / enumeration on invite flows  | Low (1)     | Medium (2) | 2     | Low      |
| DATA-001 | Token incorrectly consumed / double-use edge     | Low (1)     | High (3)   | 3     | Low      |
| OPS-001  | Confusing UX on invalid/used token               | Low (1)     | Medium (2) | 2     | Low      |

## Mitigations & Testing Focus

### SEC-001: Token brute force / enumeration

- Mitigation: Best-effort rate limiting added for token endpoints (429 `RATE_LIMITED`).
- Residual risk: If client IP headers are missing/misconfigured, limiter will not apply.

### DATA-001: Token consumption correctness

- Mitigation: Token consumption remains inside the registration transaction.
- Evidence: Integration tests cover single-use and refusal on reuse.

### OPS-001: UX failure states

- Mitigation: Explicit UI messaging for `INVITE_INVALID`, `INVITE_USED`, `INVITE_REQUIRED`.
- Evidence: Client state-machine tests cover transitions.

Risk profile: docs/qa/assessments/2.2-risk-20260114.md
