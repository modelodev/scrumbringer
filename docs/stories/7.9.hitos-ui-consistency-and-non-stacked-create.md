# Story 7.9: Hitos consistentes, quick-create en lista y detalle simplificado

## Status

Ready for Review

## Story

**As a** manager/admin del proyecto,
**I want** crear tarjetas y tareas desde la vista de Hitos (sin depender del detalle), simplificar modales y unificar la jerarquia visual,
**so that** el flujo sea mas rapido, consistente y sin anidacion modal.

## Contexto UX (actualizado tras 7.8)

1. Tras Story 7.8, la creacion rapida de tarjeta desde fila de hito ya reduce necesidad de crear desde detalle.
2. Falta paridad funcional para tareas: quick-create de task desde la misma vista/lista de hitos.
3. El detalle de hito mantiene CTAs de creacion que duplican entrypoints y complejizan jerarquia.
4. En feedback de UX se solicita simplificar modales y replantear visualmente la seccion de detalle.

## Analisis visual del estado actual (capturas + navegacion real)

Evidencia usada:

1. Captura local `capturas/vista_hitos.png`.
2. Navegacion interactiva en `https://localhost:8443` con `agent-browser` tras Story 7.8.

Estado observado en navegacion real:

1. En fila expandida de hito existen: `+ Tarjeta`, `Ver detalle`, `Activar`, `Editar hito`, `Acciones`.
2. `Acciones` despliega solo `Eliminar hito` (overflow innecesario para accion unica).
3. No existe `+ Tarea` en fila de hito (gap de paridad con `+ Tarjeta`).
4. En `Ver detalle` siguen presentes CTAs de create (`+ Nueva tarjeta en este hito` y `+ Nueva tarea`).
5. El detalle mantiene `Activar` dentro del modal, duplicando decision de accion de estado frente a la fila.

### Observaciones

1. **Jerarquia de acciones mezclada**: navegacion (`Ver detalle`), workflow (`Activar`) y gestion (`Editar/Eliminar`) compiten en el mismo bloque.
2. **Overflow redundante**: menu `Acciones` agrupa solo `Eliminar hito`, introduciendo click extra sin valor.
3. **Paridad incompleta de quick-create**: hay `+ Tarjeta` en lista, pero no `+ Tarea`.
4. **Duplicacion de entrypoints de create**: se crea tanto en fila como en detalle (complejiza modelo mental).
5. **Progreso con semantica fragmentada**: `%`, barra y chips (`Tarjetas`, `Tareas`) sin prioridad visual clara.
6. **Detalle sobrecargado para su rol**: mezcla lectura + accion de estado + creacion, en lugar de enfocarse en seguimiento.

### Implicaciones UX

1. Aumenta la carga cognitiva para decidir que accion usar y desde donde ejecutarla.
2. Se rompe consistencia con vistas administrativas que usan icon actions inline.
3. El detalle se convierte en paso intermedio innecesario para crear trabajo.
4. El flujo de estado (`Activar`) pierde claridad al existir en dos contextos con distinta jerarquia.

## Mockups propuestos (target)

### Mockup A - Lista de Hitos (desktop)

```text
LISTOS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ M1 Â· Hito planificado                                 [Listo]  0% â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  â”‚
â”‚   0/1 tarjetas Â· 0/2 tareas                                                 â”‚
â”‚                                                                              â”‚
â”‚   TARJETAS                                                                    â”‚
â”‚   â”Œ P3 - Sprint Planning #1                                   0/0 [Mover] â” â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚   [Ver detalle]   [Activar]   [+ Tarjeta]   [+ Tarea]        âœï¸      ðŸ—‘ï¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Reglas visuales del mockup A:

1. `Ver detalle` = navegacion primaria.
2. `Activar` = workflow/estado.
3. `+ Tarjeta` y `+ Tarea` = quick-create contextual en lista.
4. `Editar/Eliminar` = iconos inline de gestion (sin `...`).

### Mockup B - Detalle de Hito (simplificado)

```text
[X]  M1 Â· Hito planificado
[Listo]  0% â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘
0/1 tarjetas Â· 0/2 tareas

[Contenido] [Metricas]

-----------------------------------------
TARJETAS
- P3 - Sprint Planning #1                0/0 [Mover]

TAREAS SUELTAS
- (sin tareas sueltas)

Nota: En detalle NO hay botones de crear.
Creacion se hace en la fila de Hitos (+ Tarjeta / + Tarea).
```

Reglas visuales del mockup B:

1. El detalle queda orientado a lectura, seguimiento y navegacion.
2. Se eliminan CTAs de create para evitar duplicacion de entrypoints.
3. Se mantiene coherencia de progreso con lista.

### Mockup C - Flujo quick-create sin anidacion modal

```text
Lista Hitos -> click [+ Tarjeta] o [+ Tarea]
           -> se cierra/reemplaza contexto actual (si aplica)
           -> se abre UNICO dialog de create contextual (milestone_id fijo)
           -> guardar/cancelar
           -> foco vuelve al trigger de la fila del hito
```

### Mockup D - Vista compacta mobile

```text
â”Œ M1 Â· Hito planificado                        [Listo] 0% â”
â”‚ 0/1 tarjetas Â· 0/2 tareas                                 â”‚
â”‚ [Detalle] [Activar]                                       â”‚
â”‚ [+ Tarjeta] [+ Tarea]                    âœï¸         ðŸ—‘ï¸    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Reglas mobile:

1. Misma semantica de acciones que desktop.
2. Sin menus de overflow para acciones unicas.
3. CTAs de create visibles sin abrir detalle.

## Objetivo UX

1. Consolidar creacion contextual en la vista de Hitos (fila/lista) para cards y tasks.
2. Reducir acciones de detalle a lectura/navegacion/estado (sin create actions).
3. Evitar anidacion modal y reducir friccion en flujos repetitivos.
4. Unificar jerarquia visual de acciones/progreso con el patron global de la app.

## Scope

**Incluye:**

1. Acciones consistentes por fila de hito:
   - `Ver detalle` como navegacion primaria.
   - `Activar` como accion de workflow/estado.
   - `Editar` y `Eliminar` como iconos inline (lapiz/papelera), eliminando `...` cuando no aplica.
2. Quick-create desde lista de hitos:
   - `+ Tarjeta` (ya existente de 7.8, mantener/regresar si hubiera drift).
   - `+ Tarea` nueva, contextual al hito.
3. Simplificacion de detalle de hito:
   - Quitar `+ Nueva tarjeta` y `+ Nueva tarea` del detalle.
   - Mantener contenido, metricas y acciones de estado/lectura.
4. Progreso unificado:
   - Lista y detalle con lenguaje comun (barra + porcentaje + conteos).
5. Ajustes i18n ES/EN, accesibilidad y tests de regresion.

**No incluye:**

1. RediseÃ±o total del design system.
2. Cambios backend de dominio (salvo wiring ya soportado por APIs actuales).
3. Refactor global de todos los modales legacy fuera del alcance de Hitos.

## Plan de entrega (ready for dev)

### Fase 1 - Quick wins (entregable corto)

Objetivo: mejorar consistencia visible y desbloquear flujo operativo sin esperar refactor grande.

1. Acciones inline en fila de hito (`Editar`/`Eliminar`) y eliminar overflow redundante.
2. Agregar quick-create `+ Tarea` en fila de hito con contexto `milestone_id`.
3. Mantener quick-create `+ Tarjeta` de 7.8 como baseline funcional.
4. Mantener detalle actual, pero sin cambios estructurales profundos en esta fase.

### Fase 2 - Simplificacion estructural

Objetivo: consolidar jerarquia de informacion/acciones y reducir friccion de mantenimiento.

1. Quitar CTAs de create del detalle (`+ Nueva tarjeta`, `+ Nueva tarea`).
2. Unificar progreso lista/detalle con contrato visual comun (barra + % + conteos).
3. Reforzar invariante de no-anidacion modal y foco de retorno estable.

## Priorizacion de Acceptance Criteria

### Must (Fase 1)

- AC1, AC2, AC3, AC4, AC5, AC9, AC10, AC11, AC12

### Must (Fase 2)

- AC6, AC7, AC8

### Criterio de corte por fase

1. **Cierre Fase 1**: quick-create task contextual operativo + acciones inline consistentes + regresion verde.
2. **Cierre Fase 2**: detalle simplificado (sin CTAs de create) + progreso unificado + no-stack validado.

## Acceptance Criteria

1. **AC1**: En fila de hito no se muestra menu `...` cuando solo hay una accion secundaria; `Eliminar` se muestra inline con confirmacion.
2. **AC2**: `Editar` de hito se muestra como icono lapiz inline, consistente con vistas administrativas.
3. **AC3**: `Ver detalle` y `Activar` mantienen jerarquia separada de acciones de gestion (`Editar/Eliminar`).
4. **AC4**: Existe quick-create `+ Tarea` por fila de hito para roles permitidos, equivalente en patron al `+ Tarjeta` de 7.8.
5. **AC5**: `+ Tarea` abre flujo contextual reutilizando dialog/estado existentes (sin crear modal paralelo), con `milestone_id` precargado.
6. **AC6**: En detalle de hito ya no se renderizan CTAs de crear (`+ Nueva tarjeta` / `+ Nueva tarea`); el detalle queda orientado a lectura/seguimiento.
7. **AC7**: No existe modal anidado en flujo Hitos -> create contextual (maximo un modal activo).
8. **AC8**: Progreso en lista y detalle usa el mismo lenguaje visual (barra + % + conteos) sin representaciones contradictorias.
9. **AC9**: i18n ES/EN completo para nuevos textos de quick-create task y ajustes de copy.
10. **AC10**: Accesibilidad: foco/teclado/labels correctos para icon actions y quick-create por fila.
11. **AC11**: Cobertura de pruebas deterministas para acciones inline, quick-create task contextual, simplificacion de detalle y no-anidacion modal.
12. **AC12**: Regression: quick-create card de 7.8 y create no contextual permanecen funcionales.

## Reutilizacion / Arquitectura objetivo

1. Reusar `card_crud_dialog` y wiring existente de create-card contextual (7.8/7.6).
2. Reusar create-task existente (`tasks_workflow.handle_create_dialog_opened_*`) con `member_create_milestone_id` contextual desde Hitos.
3. Reusar `features/milestones/ids.gleam` para IDs estables de foco/test.
4. Reusar componentes compartidos (`ui/detail_metrics`, `ui/detail_tabs`, `ui/card_progress`, `ui/action_buttons`) evitando variantes ad hoc.

## Tasks / Subtasks

- [x] **Task 1 (Fase 1, AC: 1, 2, 3): Acciones consistentes en fila de hito**
  - [x] 1.1 Reemplazar `...` por iconos inline cuando no haya multiples acciones reales.
  - [x] 1.2 Mantener `Ver detalle` y `Activar` como acciones separadas de gestion.
  - [x] 1.3 Ajustar foco/tooltips/aria-label para icon actions.

- [x] **Task 2 (Fase 1, AC: 4, 5, 12): Quick-create task contextual desde vista Hitos**
  - [x] 2.1 Agregar CTA `+ Tarea` por fila de hito en el mismo bloque que `+ Tarjeta`.
  - [x] 2.2 Enrutar a create-task contextual con `member_create_milestone_id = Some(milestone_id)`.
  - [x] 2.3 Validar que create-task no contextual no cambia comportamiento.

- [x] **Task 3 (Fase 2, AC: 6, 7): Simplificar detalle y evitar stack modal**
  - [x] 3.1 Remover CTAs de create del detalle de hito (contenido).
  - [x] 3.2 Verificar que abrir create desde lista no deja modal de detalle activo.
  - [x] 3.3 Validar retorno de foco coherente al cerrar create contextual.

- [x] **Task 4 (Fase 2, AC: 8, 9, 10): Progreso unificado + i18n + accesibilidad**
  - [x] 4.1 Consolidar visual de progreso lista/detalle con barra + % + conteos.
  - [x] 4.2 Agregar/ajustar claves i18n ES/EN para textos nuevos.
  - [x] 4.3 Verificar navegacion por teclado y semantica de controles.

- [x] **Task 5 (Fase 1 y 2, AC: 11): Testing determinista (TDD)**
  - [x] 5.1 RED: tests para render de acciones inline y ausencia de `...` cuando no aplica.
  - [x] 5.2 RED: tests quick-create task contextual desde fila de hito.
  - [x] 5.3 RED: test de detalle simplificado (sin CTAs de create).
  - [x] 5.4 RED: test de no-anidacion modal (single-modal invariant).
  - [x] 5.5 GREEN/REFACTOR: implementar minimo para verde y limpiar duplicaciones.

## Testing Notes

- Cliente:
  - `gleam format`
  - `gleam check`
  - `gleam test`
- Suites candidatas:
  - `apps/client/test/milestones_view_test.gleam`
  - `apps/client/test/milestones_update_test.gleam`
  - `apps/client/test/task_detail_update_test.gleam` (si aplica para regresion)
  - `apps/client/test/admin_cards_view_test.gleam`
  - `apps/client/test/card_crud_dialog_test.gleam`

## Definition of Done

1. Creacion contextual de card y task disponible desde vista Hitos (fila), sin depender del detalle.
2. Detalle de hito simplificado y enfocado en lectura/seguimiento.
3. Sin modales anidados en flujo de Hitos.
4. Jerarquia de acciones/progreso consistente con el resto de vistas.
5. i18n ES/EN completo y accesibilidad validada.
6. Tests de regresion/flujo en verde.

## QA visual (browser) - baseline post-ajustes

Fecha: 2026-02-08
Entorno: `https://localhost:8443` (Project Alpha)
Metodo: `agent-browser` + snapshots/screenshot

### Evidencia

1. Lista Hitos expandida: `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T17-21-58-937Z-u08l1v.png`
2. Detalle Hito abierto: `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T17-22-10-270Z-stgriu.png`
3. Quick-create task contextual (modal unico): `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T17-24-36-782Z-ia52jl.png`

### Checklist visual

- [x] `+ Tarjeta` visible en fila de hito expandida.
- [x] `+ Tarea` visible en fila de hito expandida (paridad con card).
- [x] `Editar` y `Eliminar` visibles inline (sin overflow `Acciones`/`...`).
- [x] `Ver detalle` y `Activar` separados de gestion inline.
- [x] Detalle de hito sin CTAs de create (create concentrado en lista).
- [x] Flujo quick-create task abre dialog contextual reutilizado.
- [x] No stack visible en quick-create task (se observa modal unico activo).
- [x] Progreso visible con barra + porcentaje + conteos en lista y detalle.

### Observaciones de afinado (no bloqueante)

1. `Activar` aun aparece en lista y detalle; funcionalmente correcto, pero se puede decidir una unica superficie para reducir ruido.
2. Validar en QA final mobile que el bloque de acciones no colapse de forma abrupta en anchos pequenos.

## Change Log

| Date       | Version | Description                                                                        | Author |
| ---------- | ------- | ---------------------------------------------------------------------------------- | ------ |
| 2026-02-08 | 0.1     | Story inicial de consistencia Hitos + no-anidacion                                 | UX     |
| 2026-02-08 | 0.2     | Reorientada tras 7.8: quick-create task en lista, detalle simplificado y jerarquia | UX     |
| 2026-02-08 | 0.3     | Analisis visual validado con agent-browser y mockups ajustados al estado real      | UX     |
| 2026-02-08 | 0.4     | Priorizacion por fases (quick wins + simplificacion estructural) lista para dev     | UX     |
| 2026-02-08 | 1.0     | Implementacion completa de fases 1 y 2, validaciones y cierre tecnico para review   | James  |
| 2026-02-08 | 1.1     | Mejora post-review: `Activar` solo en lista y action row mobile estabilizado         | James  |
| 2026-02-08 | 1.2     | Convergencia de detalle (Fase A+B): header, tabs y body unificados + limpieza CSS    | James  |

## Dev Agent Record

### Agent Model Used

openai/gpt-5.3-codex

### Debug Log References

- `apps/client`: `gleam format`
- `apps/client`: `gleam check`
- `apps/client`: `gleam test` -> `741 passed, 0 failures`
- `apps/client`: `gleam format && gleam check && gleam test` -> `741 passed, 0 failures` (post-mejoras)
- `apps/client`: `gleam format && gleam check && gleam test` -> `741 passed, 0 failures` (post-fase A+B convergencia)

### Completion Notes List

- Se reemplazo el overflow de acciones de fila de hito por acciones inline consistentes (`Editar`/`Eliminar`) usando `ui/action_buttons`.
- Se agrego quick-create contextual `+ Tarea` por fila de hito, reutilizando el flujo existente de create-task con `member_create_milestone_id`.
- Se eliminaron CTAs de create del detalle de hito para evitar duplicacion de entrypoints y reforzar el flujo sin stack modal.
- Se unifico progreso entre lista y detalle con el mismo contrato visual (`ui/card_progress` + `%` + conteos), y se mantuvo `Ver detalle`/`Activar` separados de gestion.
- Se agrego i18n ES/EN para `QuickTask` y se actualizaron pruebas de vista de hitos para reflejar el contrato UX final.
- Se ejecuto checklist DoD de forma interna: requisitos, estructura, validaciones y pruebas en verde sin bloqueantes abiertos.
- Se aplico mejora de jerarquia visual dejando `Activar` en una sola superficie (lista de hitos) y removiendolo del detalle modal.
- Se ajusto layout responsive del action row para evitar colapso abrupto en mobile (`main actions` + `manage actions`).
- Se implemento Fase A: header template unico para Card/Task/Hito (`detail-header*`, `detail-meta`, `detail-tabs`, `detail-tab`) y cierre consistente.
- Se implemento Fase B: distribucion de contenido convergente (`detail-section`, `detail-grid`, `detail-item-row`, `detail-empty-state`) en Card/Task/Hito.
- Se removio CSS estructural legacy de detalle en card/task y se consolidaron primitives compartidas en `styles/ux.gleam`.

### File List

- `apps/client/src/scrumbringer_client/features/milestones/view.gleam`
- `apps/client/src/scrumbringer_client/features/milestones/ids.gleam`
- `apps/client/src/scrumbringer_client/features/pool/dialogs.gleam`
- `apps/client/src/scrumbringer_client/components/card_detail_modal.gleam`
- `apps/client/src/scrumbringer_client/ui/card_tabs.gleam`
- `apps/client/src/scrumbringer_client/ui/task_tabs.gleam`
- `apps/client/src/scrumbringer_client/i18n/text.gleam`
- `apps/client/src/scrumbringer_client/i18n/es.gleam`
- `apps/client/src/scrumbringer_client/i18n/en.gleam`
- `apps/client/src/scrumbringer_client/styles/layout.gleam`
- `apps/client/src/scrumbringer_client/styles/ux.gleam`
- `apps/client/test/milestones_view_test.gleam`

## QA Results

### Review Date: 2026-02-08

### Reviewed By: James (Dev) + agent-browser visual QA

### Resultado global

- Implementacion funcional: PASS
- Consistencia visual: PASS
- Aceptacion estetica: PASS (sin bloqueantes)

### Evidencia (agent-browser)

1. Lista Hitos expandida (ES): `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T17-35-03-333Z-q0zz93.png`
2. Quick-create task contextual (ES): `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T17-35-13-966Z-dvl71v.png`
3. Detalle de hito (ES): `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T17-34-59-362Z-5ypxqp.png`
4. Lista de Hitos en EN (i18n): `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T17-35-45-082Z-owam81.png`

### Validacion por Acceptance Criteria

| AC   | Resultado | Nota |
| ---- | --------- | ---- |
| AC1  | PASS      | Sin overflow `...`; `Eliminar` inline. |
| AC2  | PASS      | `Editar` inline consistente con patron global. |
| AC3  | PASS      | `Ver detalle`/`Activar` separados de gestion inline. |
| AC4  | PASS      | `+ Tarea` presente por fila (paridad con `+ Tarjeta`). |
| AC5  | PASS      | `+ Tarea` abre create contextual reutilizado (modal unico). |
| AC6  | PASS      | Detalle sin CTAs de create. |
| AC7  | PASS      | No se observa modal stacking en flujo Hitos -> create. |
| AC8  | PASS      | Progreso unificado en lista/detalle (barra + % + conteos). |
| AC9  | PASS      | i18n ES/EN verificado en UI y textos de quick-create. |
| AC10 | PASS      | Labels/semantica de acciones correctos en navegacion observada. |
| AC11 | PASS      | `gleam test` en verde (741 passed, 0 failures). |
| AC12 | PASS      | Quick-create card de 7.8 y flujo create existente operativos. |

### Recomendaciones menores (no bloqueantes)

1. Definir si `Activar` debe vivir en lista + detalle o en una sola superficie para reducir ruido.
2. Hacer un pase visual mobile final para wrapping del action row en anchos pequenos.

### Design System Convergence (Phase A+B)

- **Objetivo:** converger Card/Task/Hito hacia una plantilla de detalle unica en header, tabs y body, manteniendo semantica de dominio.
- **Header unificado (Fase A):** `detail-header-block`, `detail-header`, `detail-title-row`, `detail-title`, `detail-meta`, `detail-summary` y cierre consistente (`modal-close btn-icon`).
- **Tabs unificados (Fase A):** `detail-tabs` + `detail-tab` en los tres detalles.
- **Body unificado (Fase B):** `detail-section`, `detail-grid`, `detail-item-row`, `detail-empty-state` aplicados en card/task y ya presentes en hitos.

**CSS cleanup aplicado (legacy reducido/eliminado):**

- `.modal-header-block.card-detail-header-block`
- `.modal-header-block.task-detail-header-block`
- `.card-detail-header`
- `.card-detail-title-row`
- `.card-detail-title`
- `.card-detail-meta`
- `.task-detail-header`
- `.task-detail-title`
- `.task-detail-meta`
- overrides mobile duplicados asociados a esos selectores

**Evidencia visual post-convergencia:**

1. Hito detail: `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T20-51-45-180Z-rjox5e.png`
2. Card detail: `/run/user/1000/agent-browser/tmp/screenshots/screenshot-2026-02-08T20-51-57-144Z-djmpkh.png`
3. Task detail: `/tmp/task-detail-after-shared-1770583924268.png`

### Review Date: 2026-02-08 (QA)

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

Implementacion solida y alineada al alcance UX definido: acciones inline consistentes, quick-create contextual para tarea reutilizando flujo existente, simplificacion del detalle y contrato visual de progreso coherente entre lista/detalle. La cobertura automatizada y la validacion visual respaldan que los AC se cumplen sin regresion observable.

### Refactoring Performed

- No se requirieron refactors adicionales durante QA; la implementacion ya reutiliza componentes compartidos (`ui/action_buttons`, `ui/card_progress`) y evita variantes ad hoc.

### Compliance Check

- Coding Standards: âœ“
- Project Structure: âœ“
- Testing Strategy: âœ“
- All ACs Met: âœ“

### Improvements Checklist

- [x] Validado quick-create `+ Tarea` contextual con modal unico.
- [x] Validada eliminacion de CTAs de create en detalle.
- [x] Validada paridad i18n ES/EN para etiquetas nuevas.
- [x] Ejecutado pase visual mobile/adaptativo para action row y detalle post-convergencia.
- [x] Definida superficie unica para `Activar` en lista (removido de detalle).

### Security Review

Sin hallazgos de seguridad introducidos por esta historia. No se detectan nuevos vectores de riesgo evidentes en el flujo revisado.

### Performance Considerations

Sin regresiones perceptibles en interaccion. Cambios orientados a presentacion/reuso, con impacto de rendimiento bajo.

### Files Modified During Review

- `docs/stories/7.9.hitos-ui-consistency-and-non-stacked-create.md` (QA Results)
- `docs/qa/gates/7.9-hitos-ui-consistency-and-non-stacked-create.yml`

### Gate Status

Gate: PASS â†’ docs/qa/gates/7.9-hitos-ui-consistency-and-non-stacked-create.yml

### Recommended Status

[âœ“ Ready for Done]
