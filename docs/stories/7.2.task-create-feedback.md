# Story 7.2: Feedback visual al crear tarea en Pool

## Status

Draft

## Story

**As a** miembro del proyecto,
**I want** ver claramente donde aparece una tarea recien creada,
**so that** no tenga que buscarla manualmente en el Pool.

## Problem Statement

Al crear una tarea, esta aparece en el Pool sin feedback visual. El usuario no sabe donde quedo ni si fue aplicada correctamente, generando friccion y dudas.

---

## Acceptance Criteria

1. Tras crear una tarea, esta se resalta con `highlight-info` durante 3–5s.
2. El resaltado usa el mismo patron reusable de la historia 7.1 (sin animaciones).
3. Si la tarea no es visible por filtros activos, se muestra un toast: “Tarea creada, pero no visible por filtros actuales” con accion “Limpiar filtros”.
4. Si la tarea es visible, se muestra un toast breve “Tarea creada” con accion “Ver”.

---

## Tasks / Subtasks

- [ ] **Task 1: Reuso del patron de highlight** (AC: 1, 2)
  - [ ] 1.1 Aplicar `is-highlight-source highlight-info` a la tarea creada.
  - [ ] 1.2 Limpiar highlight al expirar el tiempo.

- [ ] **Task 2: Feedback contextual** (AC: 3, 4)
  - [ ] 2.1 Detectar si la tarea creada es visible bajo filtros actuales.
  - [ ] 2.2 Mostrar toast con accion segun visibilidad.
  - [ ] 2.3 Accion “Limpiar filtros” reutiliza handler existente.

- [ ] **Task 3: Tests** (AC: 1-4)
  - [ ] 3.1 Test de view: highlight aplicado a tarea creada.
  - [ ] 3.2 Test de toast: mensaje correcto segun filtros.

---

## Dev Notes

### Archivos clave (frontend)

```
apps/client/src/scrumbringer_client/features/pool/update.gleam
apps/client/src/scrumbringer_client/features/pool/state.gleam
apps/client/src/scrumbringer_client/features/pool/msg.gleam
apps/client/src/scrumbringer_client/features/pool/view.gleam
apps/client/src/scrumbringer_client/ui/toast.gleam
apps/client/src/scrumbringer_client/styles.gleam
```

### UX Design

- Resaltado estatico (borde/halo), sin atenuar el resto.
- Toasts reutilizan el sistema global existente.

### Refactor Alignment (docs/architecture/refactor-plan-detailed.md)

- MVU por feature: efectos y estado en `features/pool/*`.
- Effects (timeout/undo) en `update`, nunca en `view`.
- Helpers de toast en `helpers/toast.gleam` o via `update_helpers` temporal.

### Type Notes (gleam-type-system)

- Mensajes tipados para el flujo: `TaskCreated(task_id)` y `HighlightExpired(task_id)`.

---

## Testing

- Tests de vista y toast en `apps/client/test`.

### TDD (gleam-tdd-development)

- Definir firmas y ADTs primero.
- Escribir tests de update y view antes de implementar.

---

## Out of Scope

- Scroll automatico o centrado del canvas.
- Animaciones o pulsos.

---

## Change Log

| Fecha | Version | Descripcion | Autor |
|-------|---------|-------------|-------|
| 2026-02-05 | 1.0 | Historia creada para sprint 7 | UX/PO |

---

## Dev Agent Record

### Agent Model Used

openai/gpt-5.2-codex

### Debug Log References

- TBD

### Completion Notes List

- TBD

### File List

- TBD

---

## QA Results

### Review Date: TBD

### Reviewed By: TBD

### Gate Status

Gate: TBD
